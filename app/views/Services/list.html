#{extends 'main.html' /}
#{set title:'Browse Services' /}

<div class="sidebar">
    <h3>Popular Tasks</h3>
    <div id="task-cloud" class="cloud"></div>
</div>


    <span>
        Are you looking for something?
    </span>
    <hr />

<script type="text/javascript" charset="utf-8">
    $("document").ready(function() {
       var words = new Array();
       #{list tasks, as:'t'}
           words.push({text:"${t.name}", url:"@{Services.list}?task=${t.id}", weight: ${t.weight}})
       #{/list}
       $("div#task-cloud").jQCloud(words);
    });
</script>

#{list services, as:'s'}
    <div class="list-item">
        <a href="@{Services.detail}/${s.id}">${s.title}</a>
        <div class="info">
            <span class="item">
                Task: <span class="value">${s.task}</span>
            </span>
            <span class="item">
                Type: <span class="value">${s.type}</span>
            </span>
            <span class="item">
                Owner: <span class="value">${s.boss}</span>
            </span>
            <span class="item">
                Location: <span class="value">${s.location}</span>
            </span>
            #{if s?.startDate}
                <span class="item date">
                    Date Interval:
                    <span class="value">
                        ${s.getFormattedStartDate()}
                        #{if s?.endDate}
                        - ${s.getFormattedEndDate()}
                        #{/if}
                    </span>
                </span>
            #{/if}
            #{if s.stags!=null}
	            <span class="item">
	                Tags: <span class="value">
	                #{list s.stags, as:'tag'}
	               		${tag.text}${tag_isLast ? '' : ','}
                	#{/list}
                	</span>
	            </span>
            #{/if}
        </div>
            <div class="clearfix"></div>
    </div>
#{/list}

<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
        $("#filter-btn").bind("click", function() {
            alert("Filtered!");
        });
    });
</script>